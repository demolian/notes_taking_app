{"ast":null,"code":"var _jsxFileName = \"V:\\\\Notes_taking_web_app\\\\NotesTakingApp\\\\notes-taking-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css'; // Import CSS\nimport { supabase } from 'src/supabase/supabaseClient'; // Import Supabase client\nimport * as ImageManipulator from 'expo-image-manipulator';\nimport { Platform } from 'react-native';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [notes, setNotes] = useState([]);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [image, setImage] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  useEffect(() => {\n    fetchNotes();\n  }, []);\n\n  // Fetch notes from Supabase\n  async function fetchNotes() {\n    const {\n      data,\n      error\n    } = await supabase.from('notes').select('*').order('created_at', {\n      ascending: false\n    });\n    if (error) {\n      alert('Error: ' + error.message); // Use alert for web\n    } else if (data) {\n      setNotes(data);\n    }\n  }\n\n  // Upload an image to Supabase Storage and return its public URL\n  async function uploadImage(uri) {\n    try {\n      // Compress the image\n      const manipResult = await ImageManipulator.manipulateAsync(uri, [{\n        resize: {\n          width: 800\n        }\n      }],\n      // Adjust width as needed\n      {\n        compress: 0.7,\n        format: ImageManipulator.SaveFormat.JPEG\n      });\n      const response = await fetch(manipResult.uri);\n      const blob = await response.blob();\n      const fileExt = 'jpg'; // Use jpg extension\n      const fileName = `${Date.now()}.${fileExt}`;\n      const {\n        data,\n        error\n      } = await supabase.storage.from('notes-images').upload(fileName, blob, {\n        cacheControl: '3600',\n        upsert: false\n      });\n      if (error) {\n        console.error('Supabase upload error:', error); // Log detailed error\n        throw error;\n      }\n\n      // Get public URL\n      const result = supabase.storage.from('notes-images').getPublicUrl(data.path);\n      if (!result.data.publicUrl) {\n        throw new Error('Error getting public URL');\n      }\n      const publicUrl = result.data.publicUrl;\n      return publicUrl;\n    } catch (err) {\n      console.error('Image upload error:', err); // Log detailed error\n      alert('Upload Error: ' + (err.message || 'Image upload failed')); // Use alert for web\n      return null;\n    }\n  }\n\n  // Pick an image using the device's image library\n  async function pickImage() {\n    if (Platform.OS === 'web') {\n      // Web implementation using a file input\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = 'image/*'; // Limit to image files\n\n      input.onchange = async event => {\n        const file = event.target.files[0];\n        if (file) {\n          const reader = new FileReader();\n          reader.onload = readerEvent => {\n            const base64Image = readerEvent.target.result;\n            setImage(base64Image); // Set the base64 image data\n          };\n          reader.readAsDataURL(file);\n        }\n      };\n      input.click(); // Programmatically trigger the file input\n    }\n  }\n\n  // Create or update a note\n  async function saveNote() {\n    let imageUrl = null;\n    let oldImageUrl = null; // Store the old image URL\n\n    // If editing, get the existing note's image URL\n    if (editingId) {\n      const {\n        data: existingNote,\n        error: existingNoteError\n      } = await supabase.from('notes').select('image_url').eq('id', editingId).single();\n      if (existingNoteError) {\n        alert('Error getting existing note: ' + existingNoteError.message); // Use alert for web\n        return;\n      }\n      oldImageUrl = existingNote === null || existingNote === void 0 ? void 0 : existingNote.image_url;\n    }\n    if (image) {\n      const uploadedUrl = await uploadImage(image);\n      if (uploadedUrl) {\n        imageUrl = uploadedUrl;\n      } else {\n        alert('Error: Failed to upload image.'); // Use alert for web\n        return;\n      }\n    }\n    const timestamp = new Date().toISOString();\n    if (editingId) {\n      const {\n        error\n      } = await supabase.from('notes').update({\n        title,\n        content,\n        image_url: imageUrl,\n        updated_at: timestamp\n      }).eq('id', editingId);\n      if (error) alert('Error updating note: ' + error.message); // Use alert for web\n      else {\n        alert('Note updated'); // Use alert for web\n      }\n\n      // Delete the old image if it was replaced\n      if (oldImageUrl && imageUrl !== oldImageUrl) {\n        const oldImagePath = oldImageUrl.split('/').pop();\n        if (oldImagePath) {\n          const {\n            error: storageError\n          } = await supabase.storage.from('notes-images').remove([oldImagePath]);\n          if (storageError) {\n            console.error('Error deleting old image from storage', storageError.message);\n            alert('Note updated, but error deleting old image: ' + storageError.message); // Use alert for web\n          } else {\n            console.log('Old image deleted from storage');\n          }\n        }\n      }\n    } else {\n      const {\n        error\n      } = await supabase.from('notes').insert([{\n        title,\n        content,\n        image_url: imageUrl,\n        created_at: timestamp,\n        updated_at: timestamp\n      }]);\n      if (error) alert('Error creating note: ' + error.message); // Use alert for web\n      else {\n        alert('Note created'); // Use alert for web\n      }\n    }\n    // Reset form and refresh\n    setTitle('');\n    setContent('');\n    setImage(null);\n    setEditingId(null);\n    fetchNotes();\n  }\n\n  // Delete a note\n  async function deleteNote(id) {\n    // Get the note to retrieve the image URL\n    const {\n      data: noteData,\n      error: noteError\n    } = await supabase.from('notes').select('image_url').eq('id', id).single();\n    if (noteError) {\n      alert('Error getting note: ' + noteError.message); // Use alert for web\n      return;\n    }\n    const imageUrl = noteData === null || noteData === void 0 ? void 0 : noteData.image_url;\n\n    // Delete the note\n    const {\n      error\n    } = await supabase.from('notes').delete().eq('id', id);\n    if (error) {\n      alert('Error deleting note: ' + error.message); // Use alert for web\n      return;\n    }\n\n    // Delete the image from storage if it exists\n    if (imageUrl) {\n      const imagePath = imageUrl.split('/').pop(); // Extract file name from URL\n      if (imagePath) {\n        const {\n          error: storageError\n        } = await supabase.storage.from('notes-images').remove([imagePath]);\n        if (storageError) {\n          console.error('Error deleting image from storage', storageError.message);\n          alert('Note deleted, but error deleting image: ' + storageError.message); // Use alert for web\n        } else {\n          console.log('Image deleted from storage');\n          alert('Note and image deleted'); // Use alert for web\n        }\n      }\n    } else {\n      alert('Note deleted'); // Use alert for web\n    }\n    fetchNotes();\n  }\n\n  // Start editing a note\n  function startEdit(note) {\n    setTitle(note.title);\n    setContent(note.content);\n    setImage(note.image_url);\n    setEditingId(note.id);\n  }\n  const renderItem = item => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"noteCard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"noteTitle\",\n      children: item.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: item.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), item.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: item.image_url,\n      alt: \"Note Image\",\n      className: \"noteImage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"noteActions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => startEdit(item),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => deleteNote(item.id),\n        style: {\n          color: 'red'\n        },\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 250,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"header\",\n      children: \"NotesApp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"input\",\n        placeholder: \"Title\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"input multiline\",\n        placeholder: \"Content\",\n        value: content,\n        onChange: e => setContent(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonRow\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: pickImage,\n          children: \"Pick Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), image && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          alt: \"Preview\",\n          className: \"previewImage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveNote,\n        children: editingId ? 'Update Note' : 'Add Note'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notesList\",\n      children: notes.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: renderItem(item)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"YYtHuB7Vyx1IpMetdzyQSa5ZIdM=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","supabase","ImageManipulator","Platform","jsxDEV","_jsxDEV","App","_s","notes","setNotes","title","setTitle","content","setContent","image","setImage","editingId","setEditingId","fetchNotes","data","error","from","select","order","ascending","alert","message","uploadImage","uri","manipResult","manipulateAsync","resize","width","compress","format","SaveFormat","JPEG","response","fetch","blob","fileExt","fileName","Date","now","storage","upload","cacheControl","upsert","console","result","getPublicUrl","path","publicUrl","Error","err","pickImage","OS","input","document","createElement","type","accept","onchange","event","file","target","files","reader","FileReader","onload","readerEvent","base64Image","readAsDataURL","click","saveNote","imageUrl","oldImageUrl","existingNote","existingNoteError","eq","single","image_url","uploadedUrl","timestamp","toISOString","update","updated_at","oldImagePath","split","pop","storageError","remove","log","insert","created_at","deleteNote","id","noteData","noteError","delete","imagePath","startEdit","note","renderItem","item","className","children","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","style","color","placeholder","value","onChange","e","map","_c","$RefreshReg$"],"sources":["V:/Notes_taking_web_app/NotesTakingApp/notes-taking-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './App.css'; // Import CSS\r\nimport { supabase } from 'src/supabase/supabaseClient'; // Import Supabase client\r\nimport * as ImageManipulator from 'expo-image-manipulator';\r\nimport { Platform } from 'react-native';\r\n\r\nexport default function App() {\r\n  const [notes, setNotes] = useState([]);\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchNotes();\r\n  }, []);\r\n\r\n  // Fetch notes from Supabase\r\n  async function fetchNotes() {\r\n    const { data, error } = await supabase\r\n      .from('notes')\r\n      .select('*')\r\n      .order('created_at', { ascending: false });\r\n    if (error) {\r\n      alert('Error: ' + error.message); // Use alert for web\r\n    } else if (data) {\r\n      setNotes(data);\r\n    }\r\n  }\r\n\r\n  // Upload an image to Supabase Storage and return its public URL\r\n  async function uploadImage(uri) {\r\n    try {\r\n      // Compress the image\r\n      const manipResult = await ImageManipulator.manipulateAsync(\r\n        uri,\r\n        [{ resize: { width: 800 } }], // Adjust width as needed\r\n        { compress: 0.7, format: ImageManipulator.SaveFormat.JPEG }\r\n      );\r\n\r\n      const response = await fetch(manipResult.uri);\r\n      const blob = await response.blob();\r\n      const fileExt = 'jpg'; // Use jpg extension\r\n      const fileName = `${Date.now()}.${fileExt}`;\r\n\r\n      const { data, error } = await supabase.storage\r\n        .from('notes-images')\r\n        .upload(fileName, blob, { cacheControl: '3600', upsert: false });\r\n\r\n      if (error) {\r\n        console.error('Supabase upload error:', error); // Log detailed error\r\n        throw error;\r\n      }\r\n\r\n      // Get public URL\r\n      const result = supabase.storage\r\n        .from('notes-images')\r\n        .getPublicUrl(data.path);\r\n      if (!result.data.publicUrl) {\r\n        throw new Error('Error getting public URL');\r\n      }\r\n      const publicUrl = result.data.publicUrl;\r\n      return publicUrl;\r\n    } catch (err) {\r\n      console.error('Image upload error:', err); // Log detailed error\r\n      alert('Upload Error: ' + (err.message || 'Image upload failed')); // Use alert for web\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Pick an image using the device's image library\r\n  async function pickImage() {\r\n    if (Platform.OS === 'web') {\r\n      // Web implementation using a file input\r\n      const input = document.createElement('input');\r\n      input.type = 'file';\r\n      input.accept = 'image/*'; // Limit to image files\r\n\r\n      input.onchange = async (event) => {\r\n        const file = event.target.files[0];\r\n        if (file) {\r\n          const reader = new FileReader();\r\n          reader.onload = (readerEvent) => {\r\n            const base64Image = readerEvent.target.result;\r\n            setImage(base64Image); // Set the base64 image data\r\n          };\r\n          reader.readAsDataURL(file);\r\n        }\r\n      };\r\n\r\n      input.click(); // Programmatically trigger the file input\r\n    }\r\n  }\r\n\r\n  // Create or update a note\r\n  async function saveNote() {\r\n    let imageUrl = null;\r\n    let oldImageUrl = null; // Store the old image URL\r\n\r\n    // If editing, get the existing note's image URL\r\n    if (editingId) {\r\n      const { data: existingNote, error: existingNoteError } = await supabase\r\n        .from('notes')\r\n        .select('image_url')\r\n        .eq('id', editingId)\r\n        .single();\r\n\r\n      if (existingNoteError) {\r\n        alert('Error getting existing note: ' + existingNoteError.message); // Use alert for web\r\n        return;\r\n      }\r\n      oldImageUrl = existingNote?.image_url;\r\n    }\r\n\r\n    if (image) {\r\n      const uploadedUrl = await uploadImage(image);\r\n      if (uploadedUrl) {\r\n        imageUrl = uploadedUrl;\r\n      } else {\r\n        alert('Error: Failed to upload image.'); // Use alert for web\r\n        return;\r\n      }\r\n    }\r\n\r\n    const timestamp = new Date().toISOString();\r\n    if (editingId) {\r\n      const { error } = await supabase\r\n        .from('notes')\r\n        .update({\r\n          title,\r\n          content,\r\n          image_url: imageUrl,\r\n          updated_at: timestamp,\r\n        })\r\n        .eq('id', editingId);\r\n\r\n      if (error) alert('Error updating note: ' + error.message); // Use alert for web\r\n      else {\r\n        alert('Note updated'); // Use alert for web\r\n      }\r\n\r\n      // Delete the old image if it was replaced\r\n      if (oldImageUrl && imageUrl !== oldImageUrl) {\r\n        const oldImagePath = oldImageUrl.split('/').pop();\r\n        if (oldImagePath) {\r\n          const { error: storageError } = await supabase.storage\r\n            .from('notes-images')\r\n            .remove([oldImagePath]);\r\n\r\n          if (storageError) {\r\n            console.error(\r\n              'Error deleting old image from storage',\r\n              storageError.message\r\n            );\r\n            alert(\r\n              'Note updated, but error deleting old image: ' +\r\n                storageError.message\r\n            ); // Use alert for web\r\n          } else {\r\n            console.log('Old image deleted from storage');\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      const { error } = await supabase\r\n        .from('notes')\r\n        .insert([\r\n          {\r\n            title,\r\n            content,\r\n            image_url: imageUrl,\r\n            created_at: timestamp,\r\n            updated_at: timestamp,\r\n          },\r\n        ]);\r\n      if (error) alert('Error creating note: ' + error.message); // Use alert for web\r\n      else {\r\n        alert('Note created'); // Use alert for web\r\n      }\r\n    }\r\n    // Reset form and refresh\r\n    setTitle('');\r\n    setContent('');\r\n    setImage(null);\r\n    setEditingId(null);\r\n    fetchNotes();\r\n  }\r\n\r\n  // Delete a note\r\n  async function deleteNote(id) {\r\n    // Get the note to retrieve the image URL\r\n    const { data: noteData, error: noteError } = await supabase\r\n      .from('notes')\r\n      .select('image_url')\r\n      .eq('id', id)\r\n      .single();\r\n\r\n    if (noteError) {\r\n      alert('Error getting note: ' + noteError.message); // Use alert for web\r\n      return;\r\n    }\r\n\r\n    const imageUrl = noteData?.image_url;\r\n\r\n    // Delete the note\r\n    const { error } = await supabase\r\n      .from('notes')\r\n      .delete()\r\n      .eq('id', id);\r\n\r\n    if (error) {\r\n      alert('Error deleting note: ' + error.message); // Use alert for web\r\n      return;\r\n    }\r\n\r\n    // Delete the image from storage if it exists\r\n    if (imageUrl) {\r\n      const imagePath = imageUrl.split('/').pop(); // Extract file name from URL\r\n      if (imagePath) {\r\n        const { error: storageError } = await supabase.storage\r\n          .from('notes-images')\r\n          .remove([imagePath]);\r\n\r\n        if (storageError) {\r\n          console.error('Error deleting image from storage', storageError.message);\r\n          alert(\r\n            'Note deleted, but error deleting image: ' + storageError.message\r\n          ); // Use alert for web\r\n        } else {\r\n          console.log('Image deleted from storage');\r\n          alert('Note and image deleted'); // Use alert for web\r\n        }\r\n      }\r\n    } else {\r\n      alert('Note deleted'); // Use alert for web\r\n    }\r\n\r\n    fetchNotes();\r\n  }\r\n\r\n  // Start editing a note\r\n  function startEdit(note) {\r\n    setTitle(note.title);\r\n    setContent(note.content);\r\n    setImage(note.image_url);\r\n    setEditingId(note.id);\r\n  }\r\n\r\n  const renderItem = (item) => (\r\n    <div className=\"noteCard\">\r\n      <h3 className=\"noteTitle\">{item.title}</h3>\r\n      <p>{item.content}</p>\r\n      {item.image_url ? (\r\n        <img src={item.image_url} alt=\"Note Image\" className=\"noteImage\" />\r\n      ) : null}\r\n      <div className=\"noteActions\">\r\n        <button onClick={() => startEdit(item)}>Edit</button>\r\n        <button onClick={() => deleteNote(item.id)} style={{ color: 'red' }}>\r\n          Delete\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"header\">NotesApp</h1>\r\n      <div className=\"form\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"input\"\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <textarea\r\n          className=\"input multiline\"\r\n          placeholder=\"Content\"\r\n          value={content}\r\n          onChange={(e) => setContent(e.target.value)}\r\n        />\r\n        <div className=\"buttonRow\">\r\n          <button onClick={pickImage}>Pick Image</button>\r\n          {image && (\r\n            <img src={image} alt=\"Preview\" className=\"previewImage\" />\r\n          )}\r\n        </div>\r\n        <button onClick={saveNote}>\r\n          {editingId ? 'Update Note' : 'Add Note'}\r\n        </button>\r\n      </div>\r\n      <div className=\"notesList\">\r\n        {notes.map((item) => (\r\n          <div key={item.id}>{renderItem(item)}</div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}